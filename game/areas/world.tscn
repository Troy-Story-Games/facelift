[gd_scene format=3 uid="uid://bfscqjp1bwgww"]

[ext_resource type="Texture2D" uid="uid://wo8657imnrlb" path="res://assets/prototype_dark.png" id="1_agbf7"]
[ext_resource type="Script" uid="uid://bdalepkw6gu6w" path="res://game/areas/world.gd" id="1_ypvhv"]
[ext_resource type="PackedScene" uid="uid://cm21udi0bbah6" path="res://game/areas/table.tscn" id="3_o3d45"]
[ext_resource type="PackedScene" uid="uid://dtdxhr2eocfbf" path="res://game/mask/masks/spectral_mask.tscn" id="4_f3yyr"]
[ext_resource type="PackedScene" uid="uid://h725ykkwjqpb" path="res://game/mask/masks/hammer_mask.tscn" id="5_ypvhv"]
[ext_resource type="PackedScene" uid="uid://clujaf3u776a3" path="res://addons/godot-xr-tools/objects/viewport_2d_in_3d.tscn" id="7_ywnj1"]
[ext_resource type="PackedScene" uid="uid://cu8vs27wxhe1f" path="res://game/enemy/models/construction_enemy.tscn" id="8_23kjk"]
[ext_resource type="PackedScene" uid="uid://cp0knxexve0vr" path="res://game/menus/main_menu.tscn" id="8_fin68"]
[ext_resource type="PackedScene" uid="uid://o4p36qrro577" path="res://game/menus/score_board.tscn" id="8_ywnj1"]
[ext_resource type="PackedScene" uid="uid://d3mclo5r4nj1y" path="res://game/enemy/models/spectral_enemy.tscn" id="9_kucvp"]
[ext_resource type="PackedScene" uid="uid://bysy5ba7gmrfl" path="res://game/enemy/models/forklift_enemy.tscn" id="10_2ufnl"]
[ext_resource type="PackedScene" uid="uid://cjheqpw56lqvb" path="res://game/mask/models/hammer_mask.tscn" id="11_qm4ej"]
[ext_resource type="PackedScene" uid="uid://blg7smqclkhwk" path="res://game/mask/models/spectral_mask.tscn" id="12_bxme0"]
[ext_resource type="PackedScene" uid="uid://q43xlt77t3u5" path="res://game/player/hands/models/hammer.tscn" id="13_bxme0"]
[ext_resource type="PackedScene" uid="uid://cvr6mkdtspslh" path="res://game/menus/menu_tutorial_card_3d.tscn" id="14_dvrlu"]
[ext_resource type="PackedScene" uid="uid://xfb57ilntfmd" path="res://game/tower/tower_model.tscn" id="15_tl63b"]
[ext_resource type="PackedScene" uid="uid://do8jifmlfaa13" path="res://game/areas/trash_can.tscn" id="17_lgr31"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_agbf7"]

[sub_resource type="Sky" id="Sky_h7iqs"]
sky_material = SubResource("ProceduralSkyMaterial_agbf7")

[sub_resource type="Environment" id="Environment_f8g1j"]
background_mode = 2
sky = SubResource("Sky_h7iqs")
fog_mode = 1
fog_density = 1.0
fog_depth_begin = 0.0

[sub_resource type="BoxShape3D" id="BoxShape3D_f3yyr"]
size = Vector3(74.10132, 0.1, 57.01367)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_o3d45"]
albedo_texture = ExtResource("1_agbf7")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_14vxq"]
material = SubResource("StandardMaterial3D_o3d45")
size = Vector3(15, 0.1, 15)

[node name="World" type="Node3D" unique_id=143279455]
script = ExtResource("1_ypvhv")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=607046335]
environment = SubResource("Environment_f8g1j")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1902773611]
transform = Transform3D(1, 0, 0, 0, 0.7071068, 0.7071068, 0, -0.7071068, 0.7071068, 0, 0, 0)

[node name="Floor" type="StaticBody3D" parent="." unique_id=892369506]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
collision_layer = 129
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor" unique_id=1017276277]
shape = SubResource("BoxShape3D_f3yyr")

[node name="Floor" type="MeshInstance3D" parent="Floor" unique_id=470060127]
visible = false
mesh = SubResource("BoxMesh_14vxq")
skeleton = NodePath("../..")

[node name="Table" parent="." unique_id=1804258625 instance=ExtResource("3_o3d45")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.062164158, -0.60387087)
collision_layer = 1

[node name="SpectralMask" parent="." unique_id=49658922 instance=ExtResource("4_f3yyr")]
transform = Transform3D(0.978509, 0.20620412, 2.3362718e-08, 0.05510567, -0.26149514, -0.96363044, -0.19870456, 0.94292104, -0.26723835, -0.27, 1.011, -0.63976824)
release_mode = 1

[node name="HammerMask" parent="." unique_id=391040737 instance=ExtResource("5_ypvhv")]
transform = Transform3D(0.98162717, -0.1908091, 1.518081e-08, -0.033133645, -0.17045781, -0.9848077, 0.18791027, 0.966714, -0.17364822, 0.283, 1.016, -0.63976824)
release_mode = 1

[node name="MainMenu3D" parent="." unique_id=1379790286 instance=ExtResource("7_ywnj1")]
transform = Transform3D(0.9999907, 0, -0.004328251, 0, 1, 0, 0.004328251, 0, 0.9999907, 0, 1.3, -2)
scene = ExtResource("8_fin68")
viewport_size = Vector2(1152, 648)
scene_properties_keys = PackedStringArray("main_menu.gd")

[node name="ConstructorTutorial" type="Node3D" parent="MainMenu3D" unique_id=1589831423]
transform = Transform3D(1, 0, 4.656613e-10, 0, 1, 0, -4.656613e-10, 0, 1, 0, 0.058873773, 0)

[node name="construction_enemy" parent="MainMenu3D/ConstructorTutorial" unique_id=878544191 instance=ExtResource("8_23kjk")]
transform = Transform3D(1, 0, 9.313226e-09, 0, 1, 0, -9.313226e-09, 0, 1, 0.3956702, -0.6884849, 1.5204204)

[node name="Skeleton3D" parent="MainMenu3D/ConstructorTutorial/construction_enemy/Constructor" parent_id_path=PackedInt32Array(878544191, 227476989) index="0" unique_id=1300441590]
bones/0/rotation = Quaternion(-4.214684e-08, -0.70710665, 6.2803846e-16, 0.7071069)
bones/9/rotation = Quaternion(-0.07660661, 0.35744888, 0.9106974, 0.1923329)

[node name="ConstructorMesh" parent="MainMenu3D/ConstructorTutorial/construction_enemy/Constructor/Skeleton3D" index="0" unique_id=1918724958]
transform = Transform3D(1, 0, 9.313226e-10, 0, 1, 0, -9.313226e-10, 0, 1, 0, 0, 0)

[node name="AnimationPlayer" parent="MainMenu3D/ConstructorTutorial/construction_enemy" index="1" unique_id=1823016758]
autoplay = &"ConstructorWalking"

[node name="MenuTutorialCard3DConstructor" parent="MainMenu3D/ConstructorTutorial" unique_id=531426624 instance=ExtResource("14_dvrlu")]
transform = Transform3D(0.99998933, -0.00391619, -0.0024850664, 0.0039161826, 0.4258424, 0.904789, -0.0024850783, -0.904789, 0.4258532, 0.39607137, -0.6575963, 1.73629)
tutorial_text = "Defeat by throwing
or smashing!"

[node name="SpectralTutorial" type="Node3D" parent="MainMenu3D" unique_id=215923918]
transform = Transform3D(1, 0, 4.656613e-10, 0, 1, 0, -4.656613e-10, 0, 1, 0, 0.058873773, 0)

[node name="SpectralEnemy" parent="MainMenu3D/SpectralTutorial" unique_id=1406747159 instance=ExtResource("9_kucvp")]
transform = Transform3D(1, 0, 9.778887e-09, 0, 1, 0, -9.778887e-09, 0, 1, -0.097991735, -0.7023493, 1.509623)

[node name="Skeleton3D" parent="MainMenu3D/SpectralTutorial/SpectralEnemy/Ghost" parent_id_path=PackedInt32Array(1406747159, 1932793693) index="0" unique_id=1089590684]
bones/0/position = Vector3(-0.00017031813, 0.079460315, -0.0063515813)
bones/0/rotation = Quaternion(-4.214684e-08, -0.70710665, 6.2803846e-16, 0.7071069)
bones/1/position = Vector3(-0.05244294, -0.06226021, -0.017944034)
bones/1/rotation = Quaternion(0.63098395, 0.31915447, -0.63098353, 0.3191544)
bones/2/position = Vector3(0.02820334, -0.053685512, 0.018314125)
bones/2/rotation = Quaternion(0.18694432, 0.68194705, -0.18694419, 0.6819472)
bones/3/rotation = Quaternion(5.876291e-21, 0, 8.4703295e-22, 1)
bones/4/rotation = Quaternion(5.876291e-21, 0, 8.4703295e-22, 1)
bones/5/rotation = Quaternion(0.8565139, 0.18049298, -0.13606109, -0.46399736)
bones/6/rotation = Quaternion(-0.07643313, 0.5251616, -0.4437171, 0.72213465)
bones/7/rotation = Quaternion(0.87669986, -0.054978915, 0.089696795, 0.46939245)
bones/8/rotation = Quaternion(0.042107113, -0.3363476, 0.1469679, 0.9292458)
bones/9/position = Vector3(9.63809e-10, 5.708628e-09, 1.4501832e-09)
bones/9/rotation = Quaternion(-0.07660661, 0.35744888, 0.9106974, 0.1923329)
bones/10/rotation = Quaternion(-0.3401982, 0.07683817, 0.5419777, 0.7646053)
bones/11/position = Vector3(1.8391244e-10, 0.0019953228, -0.003135503)
bones/11/rotation = Quaternion(0.84388036, -0.18783094, -0.11040434, -0.49030235)
bones/12/rotation = Quaternion(-0.452596, 0.22219473, 0.12945765, 0.85383093)

[node name="AnimationPlayer" parent="MainMenu3D/SpectralTutorial/SpectralEnemy" index="1" unique_id=1085800521]
autoplay = &"ConstructorWalking"

[node name="MenuTutorialCard3DSpectral" parent="MainMenu3D/SpectralTutorial" unique_id=303154962 instance=ExtResource("14_dvrlu")]
transform = Transform3D(0.9999885, -0.0039987816, -0.002671868, 0.003998775, 0.38268346, 0.92387074, -0.0026718802, -0.9238709, 0.38269517, -0.099777535, -0.6636314, 1.73188)
tutorial_text = "Defeat by wearing the
spectral mask!"

[node name="ForkliftTutorial" type="Node3D" parent="MainMenu3D" unique_id=983986099]
transform = Transform3D(1, 0, 2.3283064e-09, 0, 1, 0, -2.3283064e-09, 0, 1, -0.2693976, -0.4777001, 1.9053258)

[node name="forklift_enemy" parent="MainMenu3D/ForkliftTutorial" unique_id=1240043831 instance=ExtResource("10_2ufnl")]
transform = Transform3D(0.06486503, 0, 0.49577466, 0, 0.5, 0, -0.49577466, 0, 0.06486503, -0.43425915, -0.14824408, -0.43469617)

[node name="AnimationPlayer" parent="MainMenu3D/ForkliftTutorial/forklift_enemy" index="1" unique_id=150837924]
autoplay = &"ForkliftDriving"

[node name="MenuTutorialCard3DForklift" parent="MainMenu3D/ForkliftTutorial" unique_id=1830239783 instance=ExtResource("14_dvrlu")]
transform = Transform3D(0.9999884, -0.0040565543, -0.0028188603, 0.0040565357, 0.3487194, 0.93721837, -0.0028188864, -0.9372189, 0.34873158, -0.4013116, -0.1328997, -0.17630944)
tutorial_text = "Defeat with the
hammer by wearing
the hammer mask! "

[node name="SpectralMaskTutorial" type="Node3D" parent="MainMenu3D" unique_id=23741717]
transform = Transform3D(1, 0, 4.656613e-10, 0, 1, 0, -4.656613e-10, 0, 1, 0, 0.058873773, 0)

[node name="SpectralMask" parent="MainMenu3D/SpectralMaskTutorial" unique_id=2009800705 instance=ExtResource("12_bxme0")]
transform = Transform3D(0.95042956, 0, -0.3109416, 0, 1, 0, 0.3109416, 0, 0.95042956, 0.7363456, -0.41662085, 0.7903094)

[node name="MenuTutorialCard3DSpectralMask" parent="MainMenu3D/SpectralMaskTutorial" unique_id=297340454 instance=ExtResource("14_dvrlu")]
transform = Transform3D(0.95042956, 0, -0.31094152, 0, 1, 0, 0.31094152, 0, 0.95042956, 1.0597537, -0.43379152, 0.9390348)
tutorial_text = "The spectral mask!"

[node name="HammerMaskTutorial" type="Node3D" parent="MainMenu3D" unique_id=351777022]
transform = Transform3D(1, 0, 4.656613e-10, 0, 1, 0, -4.656613e-10, 0, 1, 0, 0.058873773, 0)

[node name="hammer_mask" parent="MainMenu3D/HammerMaskTutorial" unique_id=578164646 instance=ExtResource("11_qm4ej")]
transform = Transform3D(0.9653684, 0, -0.26089177, 0, 1, 0, 0.26089177, 0, 0.9653684, 0.7090443, -0.109092355, 0.8287239)

[node name="Hammer" parent="MainMenu3D/HammerMaskTutorial" unique_id=831493007 instance=ExtResource("13_bxme0")]
transform = Transform3D(0.9653685, 0, -0.26089177, 0, 1, 0, 0.26089177, 0, 0.9653685, 0.51076466, -0.1447438, 0.7646339)

[node name="MenuTutorialCard3DHammerMask" parent="MainMenu3D/HammerMaskTutorial" unique_id=761135212 instance=ExtResource("14_dvrlu")]
transform = Transform3D(0.9653685, 0, -0.26089177, 0, 1, 0, 0.26089177, 0, 0.9653685, 1.0667443, -0.12486744, 0.93885875)
tutorial_text = "The hammer mask!"

[node name="TowerTutorial" parent="MainMenu3D" unique_id=1268819132 instance=ExtResource("15_tl63b")]
transform = Transform3D(0.9999906, 0, 0.0043282523, 0, 1, 0, -0.0043282523, 0, 0.9999906, -1.0530949, 0.15867305, 0.03098321)

[node name="ScoreBoard3D" parent="." unique_id=264532556 instance=ExtResource("7_ywnj1")]
transform = Transform3D(1, 0, 0, 0, 0.9659258, 0.25881904, 0, -0.25881904, 0.9659258, 0, 0.714026, -1.1284434)
screen_size = Vector2(0.267, 0.15)
scene = ExtResource("8_ywnj1")
scene_properties_keys = PackedStringArray("score_board.gd")

[node name="TrashCan" parent="." unique_id=145948585 instance=ExtResource("17_lgr31")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0039647818, 0.41642064, -2.6814349)

[editable path="MainMenu3D/ConstructorTutorial/construction_enemy"]
[editable path="MainMenu3D/SpectralTutorial/SpectralEnemy"]
[editable path="MainMenu3D/ForkliftTutorial/forklift_enemy"]
